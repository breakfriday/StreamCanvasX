"use strict";(self.webpackChunkstreamcanvasx=self.webpackChunkstreamcanvasx||[]).push([[8],{1724:(e,t,n)=>{n.d(t,{Z:()=>f});var i=n(2983),r=n(830),a=n(1564),o=n(1138);const s=function(){var e=t.prototype;function t(e){(0,o._)(this,"context",void 0),(0,o._)(this,"dataArray",void 0),(0,o._)(this,"bufferLength",void 0),(0,o._)(this,"bufferData",void 0),(0,o._)(this,"bufferDataLength",void 0);var t=e.canvas_el,n=e.media_el;this.context={},t&&this.setCanvasDom(t),this.createAudioContext(),this.setMediaSource_el(n),this.audioContextConnect()}return e.createAudioContext=function(){this.context.audioContext=new AudioContext,this.context.analyserNode=this.context.audioContext.createAnalyser(),this.bufferLength=this.context.analyserNode.fftSize,this.dataArray=new Float32Array(this.bufferLength),this.setBufferData()},e.setBufferData=function(){this.bufferDataLength=Math.ceil(1*this.context.audioContext.sampleRate/this.dataArray.length)*this.dataArray.length,this.bufferData=new Float32Array(this.bufferDataLength)},e.updateBufferData=function(){var e,t=this.dataArray,n=this.bufferData,i=this.bufferDataLength;n.copyWithin(0,t.length),null===(e=this.context.analyserNode)||void 0===e||e.getFloatTimeDomainData(t),n.set(t,i-t.length),requestAnimationFrame(this.updateBufferData.bind(this))},e.drawWithBufferData=function(){var e=this,t=this.bufferData,n=this.bufferDataLength;!function i(){e.context.canvasContext.clearRect(0,0,e.context.canvas.width,e.context.canvas.height),e.context.canvasContext.lineWidth=2,e.context.canvasContext.strokeStyle="#7f0",e.context.canvasContext.beginPath();for(var r=e.context.canvas.width/n,a=0,o=0;o<n;o++){var s=t[o]*e.context.canvas.height/2,c=e.context.canvas.height/2+s;0===o?e.context.canvasContext.moveTo(a,c):e.context.canvasContext.lineTo(a,c),a+=r}e.context.canvasContext.lineTo(e.context.canvas.width,e.context.canvas.height/2),e.context.canvasContext.stroke(),requestAnimationFrame(i.bind(e))}()},e.setCanvasDom=function(e){this.context.canvas=e,this.context.canvasContext=this.context.canvas.getContext("2d")},e.setMediaSource_el=function(e){this.context.mediaSource_el=e,this.context.audioSourceNode=this.context.audioContext.createMediaElementSource(e)},e.resetAudioContextConnec=function(){var e;null===(e=this.context.audioSourceNode)||void 0===e||e.disconnect(),this.audioContextConnect()},e.audioContextConnect=function(){this.context.audioSourceNode.connect(this.context.analyserNode),this.context.analyserNode.connect(this.context.audioContext.destination)},e.mute=function(e){!0===e?this.context.analyserNode.disconnect(this.context.audioContext.destination):this.context.analyserNode.connect(this.context.audioContext.destination)},e.visulizerDraw=function(){var e=this,t=this.context.analyserNode.frequencyBinCount,n=new Uint8Array(t);!function i(){requestAnimationFrame(i.bind(e)),e.context.analyserNode.getByteFrequencyData(n),e.context.canvasContext.fillStyle="rgb(255, 255, 255)",e.context.canvasContext.fillRect(0,0,e.context.canvas.width,e.context.canvas.height);for(var r,a=e.context.canvas.width/t*2.5,o=0,s=0;s<t;s++){r=n[s]/2;e.context.canvasContext.fillStyle="rgb(0, 0, 0)",e.context.canvasContext.fillRect(o,e.context.canvas.height-r,a,r),o+=a+1}}()},e.visulizerDraw1=function(){var e=this,t=this.context.analyserNode.frequencyBinCount,n=new Uint8Array(t);!function i(){requestAnimationFrame(i.bind(e)),e.context.analyserNode.getByteFrequencyData(n),e.context.canvasContext.fillStyle="#000",e.context.canvasContext.fillRect(0,0,e.context.canvas.width,e.context.canvas.height);for(var r,a=e.context.canvas.width/t*2.5,o=0,s=0;s<t;s++){var c=(r=n[s])+s/t*25,l=s/t*250;e.context.canvasContext.fillStyle="rgb("+c+","+l+",50)",e.context.canvasContext.fillRect(o,e.context.canvas.height-r,a,r),o+=a+1}}()},e.visulizerDraw2=function(){var e=this,t=this.context.analyserNode.frequencyBinCount,n=new Uint8Array(t);!function i(){requestAnimationFrame(i.bind(e)),e.context.analyserNode.getByteFrequencyData(n),e.context.canvasContext.fillStyle="rgba(0, 0, 0, 0.05)",e.context.canvasContext.fillRect(0,0,e.context.canvas.width,e.context.canvas.height),e.context.canvasContext.lineWidth=2,e.context.canvasContext.strokeStyle="rgb(0, 255, 0)",e.context.canvasContext.beginPath();for(var r=1*e.context.canvas.width/t,a=0,o=0;o<t;o++){var s=n[o]/128*e.context.canvas.height/2;0===o?e.context.canvasContext.moveTo(a,s):e.context.canvasContext.lineTo(a,s),a+=r}e.context.canvasContext.lineTo(e.context.canvas.width,e.context.canvas.height/2),e.context.canvasContext.stroke()}()},e.visulizerDraw3=function(){var e=this,t=this.bufferLength,n=this.dataArray;!function i(){e.context.analyserNode.getFloatTimeDomainData(n),e.context.canvasContext.clearRect(0,0,e.context.canvas.width,e.context.canvas.height),e.context.canvasContext.lineWidth=2,e.context.canvasContext.strokeStyle="#7f0",e.context.canvasContext.beginPath();for(var r=e.context.canvas.width/t,a=0,o=0;o<t;o++){var s=n[o]*e.context.canvas.height/2,c=e.context.canvas.height/2+s;0===o?e.context.canvasContext.moveTo(a,c):e.context.canvasContext.lineTo(a,c),a+=r}e.context.canvasContext.lineTo(e.context.canvas.width,e.context.canvas.height/2),e.context.canvasContext.stroke(),requestAnimationFrame(i.bind(e))}()},e.visulizerDraw4=function(){var e=this,t=this.context.analyserNode.fftSize,n=new Float32Array(t);!function i(){requestAnimationFrame(i.bind(e)),e.context.analyserNode.getFloatTimeDomainData(n),e.context.canvasContext.fillStyle="rgba(0, 0, 0, 0.1)",e.context.canvasContext.fillRect(0,0,e.context.canvas.width,e.context.canvas.height),e.context.canvasContext.lineWidth=2,e.context.canvasContext.strokeStyle="rgb(0, 255, 0)",e.context.canvasContext.beginPath();for(var r=1*e.context.canvas.width/t,a=0,o=0;o<t;o++){var s=n[o]/128*e.context.canvas.height/2;0===o?e.context.canvasContext.moveTo(a,s):e.context.canvasContext.lineTo(a,s),a+=r}e.context.canvasContext.lineTo(e.context.canvas.width,e.context.canvas.height/2),e.context.canvasContext.stroke()}()},t}();var c=n(8003);a.Fc.bind(c.v.IAudioProcessingService).toFactory((function(e){return function(e){return new s(e)}}));var l=n(2157).Z,u=n(2983).Fragment,d=i.useRef,v=i.useEffect;const f=function(){var e=i.useRef(null),t=i.useRef(null),n=d(null),o=d(null);v((function(){var i=(0,r.s)({root_el:null==e?void 0:e.current,canvas_el:null==t?void 0:t.current});n.current=i,s()}),[]);var s=function(){var e,t=null==(e=n.current)?void 0:e._vedio;t&&t.addEventListener("play",(function(){var e,n=(e={media_el:t,canvas_el:o.current},a.Fc.get(c.v.IAudioProcessingService)(e));n.updateBufferData(),n.drawWithBufferData()}))};return l(u,null,l("div",null,l("input",{type:"file",id:"file-input",accept:"audio/*,video/*",onChange:function(e){var t,i,r=n.current,a=null==(t=e.target)||null==(i=t.files)?void 0:i[0];a&&r.set_blob_url(a)}}),l("div",{style:{display:"flex",flexDirection:"row"}},l("div",{ref:e,style:{width:"300px",height:"300px"}}),l("canvas",{ref:t,width:"300",height:"300",style:{marginLeft:"15px",display:"none"}}),l("div",null,l("canvas",{style:{background:"black"},ref:o,id:"canvas",width:"300",height:"300"})))))}},6246:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(2983),r=n(830),a=n(2157).Z,o=n(2983).Fragment,s=i.useRef,c=i.useEffect;const l=function(){var e=i.useRef(null),t=i.useRef(null),n=s(null);return c((function(){var i=(0,r.s)({root_el:null==e?void 0:e.current,canvas_el:null==t?void 0:t.current});n.current=i}),[]),a(o,null,a("div",null,a("input",{type:"file",id:"file-input",accept:"audio/*,video/*",onChange:function(e){var t,i,r=n.current,a=null==(t=e.target)||null==(i=t.files)?void 0:i[0];a&&r.set_blob_url(a)}}),a("div",{style:{display:"flex",flexDirection:"row"}},a("div",{ref:e,style:{width:"300px",height:"300px"}}),a("canvas",{ref:t,width:"300",height:"300",style:{marginLeft:"15px"}}))))}},2262:(e,t,n)=>{n.d(t,{Z:()=>ve});var i=n(2983),r=n(1366),a=n(4965),o=n(808),s=n(1564),c=n(189),l=n(7866),u=n(5368),d=n(1138),v=n(6398),f=n(9513),h=function(){t.isSupported=function(){return!(!window.fetch||!window.ReadableStream)||(console.log("Fetch and Stream API are not supported"),!1)};var e=t.prototype;function t(){(0,d._)(this,"_requestAbort",void 0),(0,d._)(this,"_abortController",void 0),(0,d._)(this,"playerService",void 0),(0,d._)(this,"url",void 0),this.requestAbort=!1}return e.init=function(e,t){this.playerService=e,this.url=t},e.fetchStream=function(){var e=(0,l.Z)((0,c.Z)().mark((function e(t){var n,i,r,a,o;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t,n=new Headers,this._abortController=new AbortController,i={method:"GET",mode:"cors",credentials:"same-origin",headers:n,cache:"default",referrerPolicy:"no-referrer-when-downgrade",signal:this.abortController.signal},e.prev=4,e.next=7,fetch(t,i);case 7:if(r=e.sent,!0!==this.requestAbort){e.next=11;break}return r.body.cancel(),e.abrupt("return");case 11:if(a=r.body,!(o=null==a?void 0:a.getReader())){e.next=16;break}return e.next=16,this.processStream(o);case 16:e.next=20;break;case 18:e.prev=18,e.t0=e.catch(4);case 20:case"end":return e.stop()}}),e,this,[[4,18]])})));return function(t){return e.apply(this,arguments)}}(),e.abortFetch=function(){this.abortController.abort()},e.processStream=function(){var e=(0,l.Z)((0,c.Z)().mark((function e(t){var n,i,r;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=1,e.next=4,t.read();case 4:if(n=e.sent,i=n.done,r=n.value,null==r?void 0:r.buffer,!i){e.next=11;break}return console.log("Stream complete"),e.abrupt("return");case 11:this.playerService.flvVDemuxService.dispatch(r),e.next=18;break;case 14:return e.prev=14,e.t0=e.catch(1),console.error("Error reading stream",e.t0),e.abrupt("return");case 18:e.next=0;break;case 20:case"end":return e.stop()}}),e,this,[[1,14]])})));return function(t){return e.apply(this,arguments)}}(),e.processFlvChunk=function(e){},(0,u.Z)(t,[{key:"requestAbort",get:function(){return this._requestAbort},set:function(e){this._requestAbort=e}},{key:"abortController",get:function(){return this._abortController}}]),t}();const p=h=(0,v.gn)([(0,f.b)()],h);var m=n(8003),g=n(5917),y=n(6517),x=function(){function e(){}var t=e.prototype;return t.on=function(e,t,n){var i=this.e||(this.e={});return(i[e]||(i[e]=[])).push({fn:t,ctx:n}),this},t.once=function(e,t,n){var i=this;function r(){i.off(e,r);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];t.apply(n,o)}return r._=t,this.on(e,r,n)},t.emit=function(e){for(var t=((this.e||(this.e={}))[e]||[]).slice(),n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];for(var a=0;a<t.length;a+=1)t[a].fn.apply(t[a].ctx,i);return this},t.off=function(e,t){var n=this.e||(this.e={});if(!e)return Object.keys(n).forEach((function(e){delete n[e]})),void delete this.e;var i=n[e],r=[];if(i&&t)for(var a=0,o=i.length;a<o;a+=1)i[a].fn!==t&&i[a].fn._!==t&&r.push(i[a]);return r.length?n[e]=r:delete n[e],this},e}();const _=x=(0,v.gn)([(0,f.b)()],x);var b="key",S="delta",P="timeUpdate",D="webcodecsDecodeError",I=12,w="A key frame is required after configure() or flush()",C="Cannot call 'decode' on a closed codec",E=function(e){(0,y.Z)(n,e);var t=n.prototype;function n(){var t;return t=e.call(this)||this,(0,d._)((0,g.Z)(t),"player",void 0),(0,d._)((0,g.Z)(t),"hasInit",void 0),(0,d._)((0,g.Z)(t),"isDecodeFirstIIframe",void 0),(0,d._)((0,g.Z)(t),"isInitInfo",void 0),(0,d._)((0,g.Z)(t),"decoder",void 0),t.hasInit=!1,t.isDecodeFirstIIframe=!1,t.isInitInfo=!1,t.decoder=null,t}return t.init=function(e){this.player=e},t.destroy=function(){this.decoder&&("closed"!==this.decoder.state&&this.decoder.close(),this.decoder=null),this.hasInit=!1,this.isInitInfo=!1,this.isDecodeFirstIIframe=!1,this.off()},t.initDecoder=function(){var e=this;this.decoder=new VideoDecoder({output:function(t){e.handleDecode(t),t.close()},error:function(t){e.handleError(t)}})},t.handleDecode=function(e){this.isInitInfo||(this.isInitInfo=!0),this.player.debugLogService.info({title:"videoFrame",info:e,logkey:"videoFrame"}),this.player.canvasVideoService.render(e)},t.handleError=function(e){console.error(e)},t.decodeVideo=function(e,t,n){if(this.hasInit){if(!this.isDecodeFirstIIframe&&n&&(this.isDecodeFirstIIframe=!0),this.isDecodeFirstIIframe){var i=new EncodedVideoChunk({data:e.slice(5),timestamp:t,type:n?b:S});this.player.emit(P,t);try{if(this.isDecodeStateClosed())return;this.decoder.decode(i)}catch(a){(-1!==a.toString().indexOf(w)||-1!==a.toString().indexOf(C))&&this.player.emit(D)}}}else if(n&&0===e[1]){if((15&e[0])===I)return void console.log("\u4e0d\u652f\u6301 H265");this.player._times.decodeStart||(this.player._times.decodeStart=(new Date).getTime());var r=function(e){for(var t=e.subarray(1,4),n="avc1.",i=0;i<3;i++){var r=t[i].toString(16);r.length<2&&(r="0"+r),n+=r}return{codec:n,description:e}}(e.slice(5));this.decoder.configure(r),this.hasInit=!0}},t.isDecodeStateClosed=function(){return"closed"===this.decoder.state},n}(_);const T=E=(0,v.gn)([(0,f.b)()],E);var R,F=n(6353),k={videoBuffer:100,videoBufferDelay:100,isResize:!0,isFullResize:!1,isFlv:!1,debug:!1,hotKey:!1,loadingTimeout:10,heartTimeout:5,timeout:10,loadingTimeoutReplay:!0,heartTimeoutReplay:!0,loadingTimeoutReplayTimes:3,heartTimeoutReplayTimes:3,supportDblclickFullscreen:!1,showBandwidth:!1,keepScreenOn:!1,isNotMute:!1,hasAudio:!0,hasVideo:!0,operateBtns:{fullscreen:!1,screenshot:!1,play:!1,audio:!1,record:!1},controlAutoHide:!1,hasControl:!1,loadingText:"",background:"",decoder:"decoder.js",url:"",rotate:0,forceNoOffscreen:!0,hiddenAutoPause:!1,protocol:1,demuxType:"flv",useWCS:!1,wcsUseVideoRender:!0,useMSE:!1,useOffscreen:!1,autoWasm:!0,wasmDecodeErrorReplay:!0,openWebglAlignment:!1,wasmDecodeAudioSyncVideo:!1,recordType:"webm",useWebFullScreen:!1};Math.ceil(40);!function(e){e[e.UseWebGL=0]="UseWebGL",e[e.UseCanvas=1]="UseCanvas",e[e.UseWebGPU=2]="UseWebGPU"}(R||(R={}));var A=n(6269),L=n.n(A);function V(){return(new Date).getTime()}var Z=function(e){(0,y.Z)(n,e);var t=n.prototype;function n(t,n,i,r,a,o){var s;return s=e.call(this)||this,(0,d._)((0,g.Z)(s),"httpFlvStreamService",void 0),(0,d._)((0,g.Z)(s),"flvVDemuxService",void 0),(0,d._)((0,g.Z)(s),"webcodecsDecoderService",void 0),(0,d._)((0,g.Z)(s),"canvasVideoService",void 0),(0,d._)((0,g.Z)(s),"debugLogService",void 0),(0,d._)((0,g.Z)(s),"fLVDemuxStream",void 0),(0,d._)((0,g.Z)(s),"mpegtsPlayer",void 0),(0,d._)((0,g.Z)(s),"_stats",void 0),(0,d._)((0,g.Z)(s),"_startBpsTime",void 0),(0,d._)((0,g.Z)(s),"_opt",void 0),(0,d._)((0,g.Z)(s),"_times",void 0),s.httpFlvStreamService=t,s.flvVDemuxService=n,s.webcodecsDecoderService=i,s.canvasVideoService=r,s.debugLogService=a,s.fLVDemuxStream=o,s._opt=Object.assign({},k),s._times={playInitStart:"",playStart:"",streamStart:"",streamResponse:"",demuxStart:"",decodeStart:"",videoStart:"",playTimestamp:"",streamTimestamp:"",streamResponseTimestamp:"",demuxTimestamp:"",decodeTimestamp:"",videoTimestamp:"",allTimestamp:""},s._stats={buf:0,fps:0,abps:0,vbps:0,ts:0},s}return t.init=function(e){var t=e.model,n=void 0===t?R.UseCanvas:t,i=e.url,r=void 0===i?"":i,a=e.contentEl,o=void 0===a?null:a;this.httpFlvStreamService.init(this,r),this.flvVDemuxService.init(this),this.webcodecsDecoderService.init(this),this.fLVDemuxStream.init(this),this.canvasVideoService.init({parm:n,contentEl:o})},t.createFlvPlayer=function(e){var t=this,n=e.type,i=void 0===n?"flv":n,r=e.isLive,a=void 0===r||r,o=this.httpFlvStreamService.url,s=document.createElement("video");s&&(this.mpegtsPlayer=L().createPlayer({type:i,isLive:a,url:o,hasAudio:!0,hasVideo:!0},{enableStashBuffer:!0,enableWorker:!0,liveBufferLatencyChasing:!0,autoCleanupSourceBuffer:!0,lazyLoad:!1}),this.mpegtsPlayer.attachMediaElement(s),this.mpegtsPlayer.load(),this.mpegtsPlayer.on(L().Events.MEDIA_INFO,(function(e){e.metadata.width,e.metadata.height})),this.mpegtsPlayer.on(L().Events.ERROR,(function(e,n){e===L().ErrorTypes.NETWORK_ERROR&&(t.mpegtsPlayer.unload(),t.mpegtsPlayer.load(),t.mpegtsPlayer.play())})),this.mpegtsPlayer.on(L().Events.STATISTICS_INFO,(function(e){e.speed;t.emit("otherInfo",e)})),this.mpegtsPlayer.on(L().Events.METADATA_ARRIVED,(function(e){t.mpegtsPlayer.play()}))),this.canvasVideoService.createVideoFramCallBack(s)},t.destroy=function(){this.mpegtsPlayer.destroy()},t.log=function(){alert(22)},t.fetchstrean=function(e){this.httpFlvStreamService.fetchStream(e)},t.play=function(e){this.httpFlvStreamService.fetchStream(e)},t.video_render=function(e){var t=this;"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback((function(){t.canvasVideoService.renderFrameByWebgpu(e)}))},t.updateStats=function(e){e=e||{},this._startBpsTime||(this._startBpsTime=V()),e.fps&&(this._stats.fps+=1),e.abps&&(this._stats.abps+=e.abps),e.vbps&&(this._stats.vbps+=e.vbps);var t=V();t-this._startBpsTime<1e3||(this._stats.fps=0,this._stats.abps=0,this._stats.vbps=0,this._startBpsTime=t)},t.retry=function(){this.mpegtsPlayer&&this.mpegtsPlayer.destroy()},t.reload=function(){this.mpegtsPlayer.unload(),this.mpegtsPlayer.load(),this.mpegtsPlayer.play()},n}(_);const M=Z=(0,v.gn)([(0,f.b)(),(0,v.fM)(0,(0,F.f)(m.v.IHttpFlvStreamLoader)),(0,v.fM)(1,(0,F.f)(m.v.IFLVDemuxService)),(0,v.fM)(2,(0,F.f)(m.v.IWebcodecsDecoderService)),(0,v.fM)(3,(0,F.f)(m.v.ICanvasVideoService)),(0,v.fM)(4,(0,F.f)(m.v.IDebugLogService)),(0,v.fM)(5,(0,F.f)(m.v.IFLVDemuxStream))],Z);var U=1,W=2,B=function(e){(0,y.Z)(n,e);var t=n.prototype;function n(){var t;return t=e.call(this)||this,(0,d._)((0,g.Z)(t),"firstTimestamp",void 0),(0,d._)((0,g.Z)(t),"startTimestamp",void 0),(0,d._)((0,g.Z)(t),"stopId",void 0),(0,d._)((0,g.Z)(t),"delay",void 0),(0,d._)((0,g.Z)(t),"bufferList",void 0),(0,d._)((0,g.Z)(t),"dropping",void 0),(0,d._)((0,g.Z)(t),"player",void 0),t.stopId=null,t.firstTimestamp=null,t.startTimestamp=null,t.delay=-1,t.bufferList=[],window.buff2=t.bufferList,t.dropping=!1,t}return t.init=function(e){this.player=e,this.initInterval()},t.destroy=function(){this.stopId&&(clearInterval(this.stopId),this.stopId=null),this.firstTimestamp=null,this.startTimestamp=null,this.delay=-1,this.bufferList=[],this.dropping=!1,this.off()},t.getDelay=function(e){if(!e)return-1;if(this.firstTimestamp){if(e){var t=Date.now()-this.startTimestamp,n=e-this.firstTimestamp;this.delay=t>=n?t-n:n-t}}else this.firstTimestamp=e,this.startTimestamp=Date.now(),this.delay=-1;return this.delay},t.resetDelay=function(){this.firstTimestamp=null,this.startTimestamp=null,this.delay=-1,this.dropping=!1},t.initInterval=function(){var e=this,t=function(){var t,n=e.player._opt.videoBuffer,i=e.player._opt.videoBufferDelay;if(e.bufferList.length)if(e.dropping){for((t=e.bufferList.shift()).type===U&&0===t.payload[1]&&e._doDecoderDecode(t);!t.isIFrame&&e.bufferList.length;)(t=e.bufferList.shift()).type===U&&0===t.payload[1]&&e._doDecoderDecode(t);t.isIFrame&&e.getDelay(t.ts)<=Math.min(n,200)&&(e.dropping=!1,e._doDecoderDecode(t))}else t=e.bufferList[0],-1===e.getDelay(t.ts)?(e.bufferList.shift(),e._doDecoderDecode(t)):e.delay>n+i?(e.resetDelay(),e.dropping=!0):(t=e.bufferList[0],e.getDelay(t.ts)>n&&(e.bufferList.shift(),e._doDecoderDecode(t)))};t(),this.stopId=setInterval(t,10)},t._doDecode=function(e){var t=e.payload,n=e.type,i=e.ts,r=e.isIFrame,a=e.cts,o=(this.player,{ts:i,cts:a,type:n,isIFrame:!1});n===W&&(o.isIFrame=r,this.pushBuffer(t,o))},t._doDecoderDecode=function(e){var t=this.player.webcodecsDecoderService;e.type===W&&t.decodeVideo(e.payload,e.ts,e.isIFrame)},t.pushBuffer=function(e,t){t.type===U?this.bufferList.push({ts:t.ts,payload:e,type:U}):t.type===W&&this.bufferList.push({ts:t.ts,cts:t.cts,payload:e,type:W,isIFrame:t.isIFrame})},t.close=function(){},n}(_);const O=B=(0,v.gn)([(0,f.b)()],B);var N=1,G=2,q=8,z=9,H=function(e){(0,y.Z)(n,e);var t=n.prototype;function n(){var t;return t=e.call(this)||this,(0,d._)((0,g.Z)(t),"flvDemux",void 0),(0,d._)((0,g.Z)(t),"input",void 0),t.input=t._inputFlv(),t.flvDemux=t.dispatchFlvData(t.input),t}return t.dispatchFlvData=function(e){var t=e.next(),n=null;return function(i){var r=new Uint8Array(i);if(n){var a=new Uint8Array(n.length+r.length);a.set(n),a.set(r,n.length),r=a,n=null}for(;r.length>=t.value;){var o=r.slice(t.value);t=e.next(r.slice(0,t.value)),r=o}r.length>0&&(n=r)}},t.dispatch=function(e){this.flvDemux(e)},t._inputFlv=(0,c.Z)().mark((function e(){var t,n,i,r,a,o,s,l,u,d,v;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,9;case 2:t=new ArrayBuffer(4),n=new Uint8Array(t),i=new Uint32Array(t),r=this.player;case 6:return n[3]=0,e.next=10,15;case 10:return a=e.sent,o=a[4],n[0]=a[7],n[1]=a[6],n[2]=a[5],s=i[0],n[0]=a[10],n[1]=a[9],n[2]=a[8],16777215===(l=i[0])&&(n[3]=a[11],l=i[0]),e.next=23,s;case 23:u=e.sent,e.t0=o,e.next=e.t0===q?27:e.t0===z?29:31;break;case 27:return u.byteLength>0&&this._doDecode({payload:u,type:N,ts:l}),e.abrupt("break",31);case 29:return(r._opt.hasVideo=!0)&&(d=u[0]>>4==1,u.byteLength>0&&(i[0]=u[4],i[1]=u[3],i[2]=u[2],i[3]=0,v=i[0],this._doDecode({payload:u,type:G,ts:l,isIFrame:d,cts:v}))),e.abrupt("break",31);case 31:e.next=6;break;case 33:case"end":return e.stop()}}),e,this)})),n}(O);const X=H=(0,v.gn)([(0,f.b)()],H);var j=n(3669),K=n.n(j);var Y=function(){var e=t.prototype;function t(){(0,d._)(this,"canvas_el",void 0),(0,d._)(this,"canvas_context",void 0),(0,d._)(this,"context2D",void 0),(0,d._)(this,"playerService",void 0),(0,d._)(this,"contextGl",void 0),(0,d._)(this,"device",void 0),(0,d._)(this,"GpuContext",void 0),(0,d._)(this,"renderPipeline",void 0),(0,d._)(this,"regGl",void 0),(0,d._)(this,"useMode",void 0),(0,d._)(this,"sampler",void 0),(0,d._)(this,"contentEl",void 0),(0,d._)(this,"clear",void 0),(0,d._)(this,"loading",void 0),this.canvas_el=document.createElement("canvas")}return e.init=function(e){var t=e||{},n=t.model,i=void 0===n?R.UseCanvas:n,r=t.contentEl;switch(this.setUseMode(i),r&&(this.contentEl=r,this.setCanvasSize(),this.contentEl.append(this.canvas_el)),this.useMode){case R.UseCanvas:this._initContext2D();break;case R.UseWebGL:this.initgl();break;case R.UseWebGPU:this.initGpu()}},e.setUseMode=function(e){this.useMode=e},e.initgl=function(){this.regGl=K()({canvas:this.canvas_el,extensions:["OES_texture_float"]})},e.drawGl=function(){var e=(0,l.Z)((0,c.Z)().mark((function e(t){var n,i;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,createImageBitmap(t);case 2:e.sent,n=this.regGl.texture(t),i=this.regGl({frag:"\n              precision mediump float;\n              uniform sampler2D texture;\n              varying vec2 uv;\n              void main () {\n                gl_FragColor = texture2D(texture, uv);\n              }\n            ",vert:"\n              precision mediump float;\n              attribute vec2 position;\n              varying vec2 uv;\n              void main () {\n                uv = position;\n                gl_Position = vec4(2.0 * position - 1.0, 0, 1);\n              }\n            ",attributes:{position:[[0,0],[0,1],[1,1],[0,0],[1,1],[1,0]]},uniforms:{texture:n},count:6}),this.regGl.clear({color:[0,0,0,1]}),i(n),n.destroy();case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),e._initContext2D=function(){this.canvas_context=this.canvas_el.getContext("2d")},e.initGpu=function(){var e=(0,l.Z)((0,c.Z)().mark((function e(){var t,n;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(navigator.gpu){e.next=2;break}throw Error("WebGPU not supported.");case 2:return e.next=4,navigator.gpu.requestAdapter();case 4:if(t=e.sent){e.next=7;break}throw Error("Couldn't request WebGPU adapter.");case 7:return e.next=9,t.requestDevice();case 9:this.device=e.sent,this.GpuContext=this.canvas_el.getContext("webgpu"),n=navigator.gpu.getPreferredCanvasFormat(),this.GpuContext.configure({device:this.device,format:n,alphaMode:"premultiplied"}),"@group(0) @binding(0) var mySampler : sampler;\n            @group(0) @binding(1) var myTexture : texture_2d<f32>;\n            \n            struct VertexOutput {\n              @builtin(position) Position : vec4<f32>,\n              @location(0) fragUV : vec2<f32>,\n            }\n            \n            @vertex\n            fn vert_main(@builtin(vertex_index) VertexIndex : u32) -> VertexOutput {\n              const pos = array(\n                vec2( 1.0,  1.0),\n                vec2( 1.0, -1.0),\n                vec2(-1.0, -1.0),\n                vec2( 1.0,  1.0),\n                vec2(-1.0, -1.0),\n                vec2(-1.0,  1.0),\n              );\n            \n              const uv = array(\n                vec2(1.0, 0.0),\n                vec2(1.0, 1.0),\n                vec2(0.0, 1.0),\n                vec2(1.0, 0.0),\n                vec2(0.0, 1.0),\n                vec2(0.0, 0.0),\n              );\n            \n              var output : VertexOutput;\n              output.Position = vec4(pos[VertexIndex], 0.0, 1.0);\n              output.fragUV = uv[VertexIndex];\n              return output;\n            }\n            \n            @fragment\n            fn frag_main(@location(0) fragUV : vec2<f32>) -> @location(0) vec4<f32> {\n              return textureSample(myTexture, mySampler, fragUV);\n            }","@group(0) @binding(1) var mySampler: sampler;\n        @group(0) @binding(2) var myTexture: texture_external;\n        \n        @fragment\n        fn main(@location(0) fragUV : vec2<f32>) -> @location(0) vec4<f32> {\n          return textureSampleBaseClampToEdge(myTexture, mySampler, fragUV);\n        }",this.renderPipeline=this.device.createRenderPipeline({layout:"auto",vertex:{module:this.device.createShaderModule({code:"@group(0) @binding(0) var mySampler : sampler;\n            @group(0) @binding(1) var myTexture : texture_2d<f32>;\n            \n            struct VertexOutput {\n              @builtin(position) Position : vec4<f32>,\n              @location(0) fragUV : vec2<f32>,\n            }\n            \n            @vertex\n            fn vert_main(@builtin(vertex_index) VertexIndex : u32) -> VertexOutput {\n              const pos = array(\n                vec2( 1.0,  1.0),\n                vec2( 1.0, -1.0),\n                vec2(-1.0, -1.0),\n                vec2( 1.0,  1.0),\n                vec2(-1.0, -1.0),\n                vec2(-1.0,  1.0),\n              );\n            \n              const uv = array(\n                vec2(1.0, 0.0),\n                vec2(1.0, 1.0),\n                vec2(0.0, 1.0),\n                vec2(1.0, 0.0),\n                vec2(0.0, 1.0),\n                vec2(0.0, 0.0),\n              );\n            \n              var output : VertexOutput;\n              output.Position = vec4(pos[VertexIndex], 0.0, 1.0);\n              output.fragUV = uv[VertexIndex];\n              return output;\n            }\n            \n            @fragment\n            fn frag_main(@location(0) fragUV : vec2<f32>) -> @location(0) vec4<f32> {\n              return textureSample(myTexture, mySampler, fragUV);\n            }"}),entryPoint:"vert_main"},fragment:{module:this.device.createShaderModule({code:"@group(0) @binding(1) var mySampler: sampler;\n        @group(0) @binding(2) var myTexture: texture_external;\n        \n        @fragment\n        fn main(@location(0) fragUV : vec2<f32>) -> @location(0) vec4<f32> {\n          return textureSampleBaseClampToEdge(myTexture, mySampler, fragUV);\n        }"}),entryPoint:"main",targets:[{format:n}]},primitive:{topology:"triangle-list"}}),this.sampler=this.device.createSampler({magFilter:"linear",minFilter:"linear"});case 17:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),e.renderFrameByWebgpu=function(){var e=(0,l.Z)((0,c.Z)().mark((function e(t){var n,i,r,a,o,s;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=(n=this).device.createBindGroup({layout:n.renderPipeline.getBindGroupLayout(0),entries:[{binding:1,resource:this.sampler},{binding:2,resource:this.device.importExternalTexture({source:t})}]}),r=this.device.createCommandEncoder(),a=this.GpuContext.getCurrentTexture().createView(),o={colorAttachments:[{view:a,clearValue:{r:0,g:0,b:0,a:1},loadOp:"clear",storeOp:"store"}]},(s=r.beginRenderPass(o)).setPipeline(this.renderPipeline),s.setBindGroup(0,i),s.draw(6,1,0,0),s.end(),this.device.queue.submit([r.finish()]);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),e.drawFrameByWebgpu=function(){var e=(0,l.Z)((0,c.Z)().mark((function e(){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.setCanvasEL=function(e){this.canvas_el=document.createElement("canvas")},e.setCanvasSize=function(){var e=200,t=400;this.contentEl&&(e=this.contentEl.clientHeight,t=this.contentEl.clientWidth),this.canvas_el.width=t,this.canvas_el.height=e},e._initContextGl=function(){this.contextGl=function(e){for(var t=null,n=["webgl","experimental-webgl","moz-webgl","webkit-3d"],i=0;!t&&i<n.length;){var r=n[i];try{t=e.getContext(r,{preserveDrawingBuffer:!0})}catch(a){t=null}t&&"function"==typeof t.getParameter||(t=null),++i}return t}(this.canvas_el);!function(e,t){var n=["attribute vec4 vertexPos;","attribute vec4 texturePos;","varying vec2 textureCoord;","void main()","{","gl_Position = vertexPos;","textureCoord = texturePos.xy;","}"].join("\n"),i=["precision highp float;","varying highp vec2 textureCoord;","uniform sampler2D ySampler;","uniform sampler2D uSampler;","uniform sampler2D vSampler;","const mat4 YUV2RGB = mat4","(","1.1643828125, 0, 1.59602734375, -.87078515625,","1.1643828125, -.39176171875, -.81296875, .52959375,","1.1643828125, 2.017234375, 0, -1.081390625,","0, 0, 0, 1",");","void main(void) {","highp float y = texture2D(ySampler,  textureCoord).r;","highp float u = texture2D(uSampler,  textureCoord).r;","highp float v = texture2D(vSampler,  textureCoord).r;","gl_FragColor = vec4(y, u, v, 1) * YUV2RGB;","}"].join("\n");t&&e.pixelStorei(e.UNPACK_ALIGNMENT,1);var r=e.createShader(e.VERTEX_SHADER);e.shaderSource(r,n),e.compileShader(r),e.getShaderParameter(r,e.COMPILE_STATUS)||console.log("Vertex shader failed to compile: "+e.getShaderInfoLog(r));var a=e.createShader(e.FRAGMENT_SHADER);e.shaderSource(a,i),e.compileShader(a),e.getShaderParameter(a,e.COMPILE_STATUS)||console.log("Fragment shader failed to compile: "+e.getShaderInfoLog(a));var o=e.createProgram();e.attachShader(o,r),e.attachShader(o,a),e.linkProgram(o),e.getProgramParameter(o,e.LINK_STATUS)||console.log("Program failed to compile: "+e.getProgramInfoLog(o)),e.useProgram(o);var s=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,s),e.bufferData(e.ARRAY_BUFFER,new Float32Array([1,1,-1,1,1,-1,-1,-1]),e.STATIC_DRAW);var c=e.getAttribLocation(o,"vertexPos");e.enableVertexAttribArray(c),e.vertexAttribPointer(c,2,e.FLOAT,!1,0,0);var l=e.createBuffer();e.bufferData(e.ARRAY_BUFFER,new Float32Array([1,0,0,0,1,1,0,1]),e.STATIC_DRAW);var u=e.getAttribLocation(o,"texturePos");function d(t,n){var i=e.createTexture();return e.bindTexture(e.TEXTURE_2D,i),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.bindTexture(e.TEXTURE_2D,null),e.uniform1i(e.getUniformLocation(o,t),n),i}e.enableVertexAttribArray(u),e.vertexAttribPointer(u,2,e.FLOAT,!1,0,0);var v=d("ySampler",0),f=d("uSampler",1),h=d("vSampler",2)}(this.contextGl,!0)},e.render=function(e){switch(this.useMode){case R.UseCanvas:this.renderCanvas2d(e);break;case R.UseWebGL:this.renderGl(e);break;case R.UseWebGPU:this.renderFrameByWebgpu(e)}},e.renderGl=function(e){var t=this.regGl;this.regGl({frag:"\n            precision mediump float;\n            uniform sampler2D texture;\n            varying vec2 uv;\n            void main () {\n                gl_FragColor = texture2D(texture, uv);\n            }\n            ",vert:"\n            precision mediump float;\n            attribute vec2 position;\n            varying vec2 uv;\n            void main () {\n                uv = position;\n                gl_Position = vec4(1.0 - 2.0 * position, 0, 1);\n            }\n            ",attributes:{position:[[-1,-1],[1,-1],[-1,1],[1,1]]},uniforms:{texture:t.prop("texture")},count:4})},e.renderCanvas2d=function(e){this.canvas_context.drawImage(e,0,0,400,200)},e.getCanvas2dEl=function(){return this.canvas_el},e.createVideoFramCallBack=function(e){var t=this;!function n(){e.requestVideoFrameCallback((function(){t.render(e),n()}))}()},e.clearCanvas=function(){var e=this.canvas_el;this.clear=!0,this.canvas_context.clearRect(0,0,e.width,e.height)},e.drawLoading=function(){var e=this,t=this.canvas_context,n=this.canvas_el,i=0,r=0,a=this;!function o(){var s=n.width/2,c=n.height/2;return!1!==e.loading&&(!0===a.clear?(a.clearCanvas(),!1):(t.clearRect(0,0,n.width,n.height),t.beginPath(),t.arc(s,c,50,0,2*Math.PI),t.lineWidth=10,t.strokeStyle="rgba(200, 200, 200, 0.5)",t.stroke(),t.beginPath(),t.arc(s,c,50,i*Math.PI,r*Math.PI),t.lineWidth=10,t.strokeStyle="rgba(50, 150, 255, 1)",t.stroke(),(i+=.01)>=2&&(i=0),(r+=.02)>=2&&(r=0),void requestAnimationFrame(o)))}()},t}();const J=Y=(0,v.gn)([(0,f.b)()],Y);const Q={packetLog:!0,videoFrame:!1};var $=function(){var e=t.prototype;function t(){(0,d._)(this,"logConfig",void 0),window.logConfig=Q,this.logConfig=window.logConfig}return e.log=function(e){var t=e.title,n=e.info,i=e.logkey;if(!this.logConfig[i])return!1;console.log(t+": ",n)},e.info=function(e){var t=e.title,n=e.info,i=e.logkey;if(!this.logConfig[i])return!1;console.info(t+":",n)},t}();const ee=$=(0,v.gn)([(0,f.b)()],$);var te=1,ne=8,ie=9,re=15,ae=function(e){(0,y.Z)(n,e);var t=n.prototype;function n(){var t;return t=e.call(this)||this,(0,d._)((0,g.Z)(t),"flvDemux",void 0),(0,d._)((0,g.Z)(t),"input",void 0),(0,d._)((0,g.Z)(t),"flvStream",void 0),(0,d._)((0,g.Z)(t),"streamWriter",void 0),t.createFlvStream(),t}return t.createFlvStream=function(){var e=null,t=new ArrayBuffer(4),n=new Uint8Array(t),i=new Uint32Array(t),r=this,a=!1;this.flvStream=new TransformStream({start:function(e){},transform:function(t,o){var s=new Uint8Array(t);if(e){var c=new Uint8Array(e.length+s.length);c.set(e),c.set(s,e.length),s=c,e=null}if(!1===a&&s.length>=9){s.slice(0,9);s=s.slice(9),a=!0}for(;s.length>=re;){var l=s.slice(0,re);n[3]=0;var u=l[4];n[0]=l[7],n[1]=l[6],n[2]=l[5];var d=i[0],v=i[0];if(16777215===v&&(n[3]=l[11],v=i[0]),s.length<d+re)break;var f=s.slice(re,d+re);switch(u){case ne:r.processAudioPayload({payload:f,type:te,ts:v});break;case ie:r.processVideoPayload({payload:f,type:te,ts:v,tmp32:i})}(s=s.slice(d+re)).length>0&&(e=s)}},flush:function(e){console.log("[flush]")}}),this.streamWriter=this.flvStream.writable.getWriter(),this.flvStream.readable.pipeTo(new WritableStream({write:function(e){console.log("Received:",e)},close:function(){console.log("Transformation completed.")}}))},t.parseChunks=function(e,t){},t.processAudioPayload=function(e){var t=e.payload;this.player.debugLogService.log({title:"\u6253\u5370\u97f3\u9891\u5305\u5185\u5bb9",info:t,logkey:"packetLog"})},t.processVideoPayload=function(e){var t=e.payload,n=(e.type,e.ts,e.tmp32);t[0];if(t.byteLength>0){n[0]=t[4],n[1]=t[3],n[2]=t[2],n[3]=0;n[0];this.player.debugLogService.log({title:"\u6253\u5370\u89c6\u9891\u5305\u5185\u5bb9",info:t,logkey:"packetLog"})}},t.dispatch=function(){var e=(0,l.Z)((0,c.Z)().mark((function e(t){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.streamWriter.write(t);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.destroy=function(){this.streamWriter.releaseLock()},n}(O);const oe=ae=(0,v.gn)([(0,f.b)()],ae);s.Zq.bind(m.v.IPlayerService).to(M),s.Zq.bind(m.v.IHttpFlvStreamLoader).to(p),s.Zq.bind(m.v.IWebcodecsDecoderService).to(T),s.Zq.bind(m.v.IFLVDemuxService).to(X),s.Zq.bind(m.v.ICanvasVideoService).to(J),s.Zq.bind(m.v.IDebugLogService).to(ee),s.Zq.bind(m.v.IFLVDemuxStream).to(oe);var se=n(2157).Z,ce=i.useRef,le=i.useEffect,ue=i.useState,de=function(e){var t=ce(null),n=ue(),i=n[0],a=n[1];le((function(){var n,i,r=e.url,c=(n={url:r,contentEl:o.current},(i=s.Zq.get(m.v.IPlayerService)).init(n||{}),i);t.current=c,c.createFlvPlayer({}),c.on("otherInfo",(function(e){var t=e.speed;a({speed:t})}))}),[]);var o=ce(null);return se("div",null,se("div",{style:{width:"200px",height:"200px"},ref:o}),se("div",null,JSON.stringify(i)),se(r.Z,{onClick:function(){t.current.reload()}},"retry"))};const ve=function(){le((function(){}),[]);var e=ue([]),t=e[0],n=e[1];return se("div",null,se(a.Z,{name:"basic",autoComplete:"off",onFinish:function(e){var i={url:e.url},r=Object.assign([],t);r.push(i),n(r)}},se(a.Z.Item,{label:"url",name:"url"},se(o.Z,null)),se(a.Z.Item,{wrapperCol:{offset:8,span:16}},se(r.Z,{type:"primary",htmlType:"submit"},"fetch_play"))),se("div",{style:{display:"flex",flexDirection:"row"}},t.map((function(e,t){var n=e.url;return se(de,{url:n,key:t})}))),se("div",null,"//https://breakfriday.github.io/StreamCanvasX/"))}},2742:(e,t,n)=>{n.d(t,{Z:()=>S});var i=n(2983),r=(n(171),n(9768)),a=new r.W,o=(new r.W,n(762)),s=n(5992),c=n(2617),l=n(1138),u=n(2545),d=n(6398),v=n(9513),f=n(6269),h=n.n(f),p=function(){function e(t){(0,s._)(this,e),(0,l._)(this,"video",void 0),(0,l._)(this,"canvas",void 0),(0,l._)(this,"context",void 0),(0,l._)(this,"mpegtsPlayer",void 0),(0,l._)(this,"root_el",void 0),(0,l._)(this,"aspectRatio",void 0),(0,l._)(this,"metadata",void 0),(0,l._)(this,"config",void 0),this.video=document.createElement("video"),this.video.controls=!0,this.canvas=t.canvas_el,this.root_el=t.root_el,this.config=t.config||{},this.canvas&&(this.context=this.canvas.getContext("2d")),this.root_el.innerHTML="",this.root_el.appendChild(this.video),this.setVideoSize(),this.vedioEvents()}return(0,c._)(e,[{key:"_vedio",get:function(){return this.video}},{key:"createFlvPlayer",value:function(e){var t=this,n=e.type,i=e.isLive,r=e.url,a=this.video;a&&(this.mpegtsPlayer=h().createPlayer({type:n,isLive:i,url:r,hasAudio:!0}),this.mpegtsPlayer.attachMediaElement(a),this.getVideoSize(),this.mpegtsPlayer.load(),this.mpegtsPlayer.on(h().Events.MEDIA_INFO,(function(e){var n=e.metadata.width,i=e.metadata.height;t.metadata={video_height:i,video_width:n},t.getVideoSize()})),this.mpegtsPlayer.on(h().Events.METADATA_ARRIVED,(function(e){t.mpegtsPlayer.play()})),this.mpegtsPlayer.on(h().Events.ERROR,(function(e,n){if(e===h().ErrorTypes.NETWORK_ERROR&&(n===h().ErrorDetails.NETWORK_UNRECOVERABLE_EARLY_EOF&&t.reoload(),n===h().ErrorDetails.NETWORK_TIMEOUT))return!1})))}},{key:"setConfig",value:function(e){this.config=Object.assign({},this.config,e)}},{key:"load",value:function(){this.mpegtsPlayer.load()}},{key:"play",value:function(){this.mpegtsPlayer.play()}},{key:"paused",value:function(){this.mpegtsPlayer.pause()}},{key:"reoload",value:function(){this.mpegtsPlayer.unload(),this.mpegtsPlayer.detachMediaElement(),this.mpegtsPlayer.attachMediaElement(this.video),this.mpegtsPlayer.load(),this.mpegtsPlayer.play()}},{key:"set_blob_url",value:function(e){var t=URL.createObjectURL(e);this.video.src=t,this.video.load()}},{key:"vedioEvents",value:function(){var e=this;this.loadMediaEvent(),this.video.addEventListener("play",(function(){e.analyzeCanvas.call(e)}),!1)}},{key:"getVideoSize",value:function(){var e={},t=e.videoHeight,n=void 0===t?0:t,i=e.videoWidth,r=void 0===i?0:i;this.metadata?(r=this.metadata.video_width,n=this.metadata.video_height):(n=this.video.videoHeight,r=this.video.videoWidth);var a=function e(t,n){return 0===n?t:e(n,t%n)}(r,n),o=r/a,s=n/a,c="".concat(o,":").concat(s);this.aspectRatio=o/s,console.log("------------------------"),console.log(c),console.log("------------------------")}},{key:"loadMediaEvent",value:function(){var e=this,t=this.video;t&&t.addEventListener("loadedmetadata",(function(){e.getVideoSize()}))}},{key:"setVideoSize",value:function(){var e=this.root_el.clientHeight,t=this.root_el.clientWidth;this.video.height=e,this.video.width=t}},{key:"renderByWebGpu",value:function(){var e=this;return(0,o._)((function(){var t,n,i;return(0,d.Jh)(this,(function(r){switch(r.label){case 0:return[4,navigator.gpu.requestAdapter()];case 1:return[4,r.sent().requestDevice()];case 2:return t=r.sent(),n=t.createTexture({size:{width:e.video.videoWidth,height:e.video.videoHeight,depth:1},format:"rgba8unorm",usage:window.GPUTextureUsage.COPY_DST|window.GPUTextureUsage.RENDER_ATTACHMENT}),(i=function(){t.queue.copyExternalImageToTexture({source:e.video},{texture:n},[e.video.videoWidth,e.video.videoHeight,1]),requestAnimationFrame(i.bind(e))}).call(e),[2]}}))}))()}},{key:"analyzeCanvas",value:function(){var e=this,t=this.canvas.width,n=this.canvas.height/this.aspectRatio,i=this.context.getImageData(0,0,1,1),r=(0,u._)(i.data,3);r[0],r[1],r[2];!function i(){e.video.ended||e.video.paused||(e.context.drawImage(e.video,0,0,t,n),requestAnimationFrame(i.bind(e)))}()}}]),e}();const m=p=(0,d.gn)([(0,v.b)()],p);var g={IOriginSerivce:Symbol.for("IOriginSerivce"),IServiceA:Symbol.for("IServiceA"),IAudioProcessingService:Symbol.for("IAudioProcessingService"),IMainPlayerService:Symbol.for("IMainPlayerService"),IPlayerService:Symbol.for("IPlayerService"),IHttpFlvStreamLoader:Symbol.for("IHttpFlvStreamLoader"),IFLVDemuxService:Symbol.for(" IFLVDemuxService"),IWebcodecsDecoderService:Symbol.for("IWebcodecsDecoderService"),ICanvasVideoService:Symbol.for("ICanvasVideoService"),IDebugLogService:Symbol.for("IDebugLogService"),IFLVDemuxStream:Symbol.for("IFLVDemuxStream")};a.bind(g.IMainPlayerService).toFactory((function(e){return function(e){return new m(e)}}));var y=n(2157).Z,x=n(2983).Fragment,_=i.useRef,b=i.useEffect;const S=function(){var e=i.useRef(null),t=i.useRef(null),n=_(null);return b((function(){var i,r=(i={root_el:null==e?void 0:e.current,canvas_el:null==t?void 0:t.current},a.get(g.IMainPlayerService)(i));n.current=r}),[]),y(x,null,y("div",null,y("input",{type:"file",id:"file-input",accept:"audio/*,video/*",onChange:function(e){var t,i,r=n.current,a=null==(t=e.target)||null==(i=t.files)?void 0:i[0];a&&r.set_blob_url(a)}}),y("div",{ref:e,style:{width:"300px",height:"300px"}}),y("canvas",{ref:t,width:"300",height:"300"})))}},1564:(e,t,n)=>{n.d(t,{Fc:()=>r,Zq:()=>a});n(171);var i=n(9768),r=new i.W,a=new i.W},830:(e,t,n)=>{n.d(t,{s:()=>p});var i=n(1564),r=n(189),a=n(7866),o=n(5368),s=n(1138),c=n(6398),l=n(9513),u=n(6269),d=n.n(u),v=function(){var e=t.prototype;function t(e){(0,s._)(this,"video",void 0),(0,s._)(this,"canvas",void 0),(0,s._)(this,"context",void 0),(0,s._)(this,"mpegtsPlayer",void 0),(0,s._)(this,"root_el",void 0),(0,s._)(this,"aspectRatio",void 0),(0,s._)(this,"metadata",void 0),(0,s._)(this,"config",void 0),this.video=document.createElement("video"),this.video.controls=!0,this.canvas=e.canvas_el,this.root_el=e.root_el,this.config=e.config||{},this.canvas&&(this.context=this.canvas.getContext("2d")),this.root_el.innerHTML="",this.root_el.appendChild(this.video),this.setVideoSize(),this.vedioEvents()}return e.createFlvPlayer=function(e){var t=this,n=e.type,i=e.isLive,r=e.url,a=this.video;a&&(this.mpegtsPlayer=d().createPlayer({type:n,isLive:i,url:r,hasAudio:!0}),this.mpegtsPlayer.attachMediaElement(a),this.getVideoSize(),this.mpegtsPlayer.load(),this.mpegtsPlayer.on(d().Events.MEDIA_INFO,(function(e){var n=e.metadata.width,i=e.metadata.height;t.metadata={video_height:i,video_width:n},t.getVideoSize()})),this.mpegtsPlayer.on(d().Events.METADATA_ARRIVED,(function(e){t.mpegtsPlayer.play()})),this.mpegtsPlayer.on(d().Events.ERROR,(function(e,n){if(e===d().ErrorTypes.NETWORK_ERROR&&(n===d().ErrorDetails.NETWORK_UNRECOVERABLE_EARLY_EOF&&t.reoload(),n===d().ErrorDetails.NETWORK_TIMEOUT))return!1})))},e.setConfig=function(e){this.config=Object.assign({},this.config,e)},e.load=function(){this.mpegtsPlayer.load()},e.play=function(){this.mpegtsPlayer.play()},e.paused=function(){this.mpegtsPlayer.pause()},e.reoload=function(){this.mpegtsPlayer.unload(),this.mpegtsPlayer.detachMediaElement(),this.mpegtsPlayer.attachMediaElement(this.video),this.mpegtsPlayer.load(),this.mpegtsPlayer.play()},e.set_blob_url=function(e){var t=URL.createObjectURL(e);this.video.src=t,this.video.load()},e.vedioEvents=function(){var e=this;this.loadMediaEvent(),this.video.addEventListener("play",(function(){e.analyzeCanvas.call(e)}),!1)},e.getVideoSize=function(){var e={},t=e.videoHeight,n=void 0===t?0:t,i=e.videoWidth,r=void 0===i?0:i;this.metadata?(r=this.metadata.video_width,n=this.metadata.video_height):(n=this.video.videoHeight,r=this.video.videoWidth);var a=function e(t,n){return 0===n?t:e(n,t%n)}(r,n),o=r/a,s=n/a,c=o+":"+s;this.aspectRatio=o/s,console.log("------------------------"),console.log(c),console.log("------------------------")},e.loadMediaEvent=function(){var e=this,t=this.video;t&&t.addEventListener("loadedmetadata",(function(){e.getVideoSize()}))},e.setVideoSize=function(){var e=this.root_el.clientHeight,t=this.root_el.clientWidth;this.video.height=e,this.video.width=t},e.renderByWebGpu=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(){var t,n,i,a=this;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.gpu.requestAdapter();case 2:return t=e.sent,e.next=5,t.requestDevice();case 5:n=e.sent,i=n.createTexture({size:{width:this.video.videoWidth,height:this.video.videoHeight,depth:1},format:"rgba8unorm",usage:window.GPUTextureUsage.COPY_DST|window.GPUTextureUsage.RENDER_ATTACHMENT}),function e(){n.queue.copyExternalImageToTexture({source:a.video},{texture:i},[a.video.videoWidth,a.video.videoHeight,1]),requestAnimationFrame(e.bind(a))}.call(this);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),e.analyzeCanvas=function(){var e=this,t=this.canvas.width,n=this.canvas.height/this.aspectRatio,i=this.context.getImageData(0,0,1,1).data;i[0],i[1],i[2];!function i(){e.video.ended||e.video.paused||(e.context.drawImage(e.video,0,0,t,n),requestAnimationFrame(i.bind(e)))}()},(0,o.Z)(t,[{key:"_vedio",get:function(){return this.video}}]),t}();const f=v=(0,c.gn)([(0,l.b)()],v);var h=n(8003);function p(e){return i.Fc.get(h.v.IMainPlayerService)(e)}i.Fc.bind(h.v.IMainPlayerService).toFactory((function(e){return function(e){return new f(e)}}))},8003:(e,t,n)=>{n.d(t,{v:()=>i});var i={IOriginSerivce:Symbol.for("IOriginSerivce"),IServiceA:Symbol.for("IServiceA"),IAudioProcessingService:Symbol.for("IAudioProcessingService"),IMainPlayerService:Symbol.for("IMainPlayerService"),IPlayerService:Symbol.for("IPlayerService"),IHttpFlvStreamLoader:Symbol.for("IHttpFlvStreamLoader"),IFLVDemuxService:Symbol.for(" IFLVDemuxService"),IWebcodecsDecoderService:Symbol.for("IWebcodecsDecoderService"),ICanvasVideoService:Symbol.for("ICanvasVideoService"),IDebugLogService:Symbol.for("IDebugLogService"),IFLVDemuxStream:Symbol.for("IFLVDemuxStream")}},8339:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>v,contentTitle:()=>u,default:()=>g,frontMatter:()=>l,metadata:()=>d,toc:()=>f});var i=n(3027),r=n(9043),a=(n(2983),n(867)),o=n(2650),s=n(9853),c=["components"],l={title:"\u65b0\u624b\u6307\u5357",sidebar_label:"Guild",sidebar_position:2},u=void 0,d={unversionedId:"guild",id:"guild",title:"\u65b0\u624b\u6307\u5357",description:"\u672c\u5730\u6587\u4ef6\u64ad\u653e",source:"@site/docs/guild.md",sourceDirName:".",slug:"/guild",permalink:"/StreamCanvasX/guild",draft:!1,tags:[],version:"current",sidebarPosition:2,frontMatter:{title:"\u65b0\u624b\u6307\u5357",sidebar_label:"Guild",sidebar_position:2},sidebar:"defaultSidebar",previous:{title:"Getting Started",permalink:"/StreamCanvasX/"},next:{title:"advance",permalink:"/StreamCanvasX/advanced"}},v={},f=[{value:"\u672c\u5730\u6587\u4ef6\u64ad\u653e",id:"\u672c\u5730\u6587\u4ef6\u64ad\u653e",level:2},{value:"flv\u76f4\u64ad\u6d41\u64ad\u653e",id:"flv\u76f4\u64ad\u6d41\u64ad\u653e",level:2},{value:"WebGpu\u6e32\u67d3\u64ad\u653e",id:"webgpu\u6e32\u67d3\u64ad\u653e",level:2},{value:"\u97f3\u9891\u53ef\u89c6\u5316",id:"\u97f3\u9891\u53ef\u89c6\u5316",level:2},{value:"WebCodecs \u89e3\u7801\u64ad\u653e",id:"webcodecs-\u89e3\u7801\u64ad\u653e",level:2},{value:"\u672c\u5730\u6587\u4ef6 webCodecs \u89e3\u7801\u64ad\u653e",id:"\u672c\u5730\u6587\u4ef6-webcodecs-\u89e3\u7801\u64ad\u653e",level:3},{value:"flv\u6d41 \u89e3\u7801\u64ad\u653e",id:"flv\u6d41-\u89e3\u7801\u64ad\u653e",level:3}],h=function(e){return function(t){return console.warn("Component "+e+" was not imported, exported, or provided by MDXProvider as global scope"),(0,a.kt)("div",t)}},p=(h("IcePkgDemo_8bcb51"),h("IcePkgDemo_ba6176"),h("IcePkgDemo_c62c95"),h("IcePkgDemo_2ac6eb"),{toc:f}),m="wrapper";function g(e){var t=e.components,l=(0,r.Z)(e,c);return(0,a.kt)(m,(0,i.Z)({},p,l,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h2",{id:"\u672c\u5730\u6587\u4ef6\u64ad\u653e"},"\u672c\u5730\u6587\u4ef6\u64ad\u653e"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-tsx"},"import { createMainPlayerInstance } from 'streamcanvasx/es2017/serviceFactories/index';\nstreamPlayer.set_blob_url(files_data)\n")),(0,a.kt)(s.Z,{code:'import * as React from \'react\';\nimport { Divider, Space, Button, Checkbox, Form, Input } from \'antd\';\nimport { createAudioProcessingServiceInstance, createMainPlayerInstance } from \'streamcanvasx/es2017/serviceFactories/index\';\nconst {useRef,useEffect}=React\n\n\nconst SimpleDemo = () => {\n  const veido_flv_ref = React.useRef<HTMLVideoElement | null>(null);\n  const canvas_ref = React.useRef<HTMLCanvasElement | null>(null);\n   let streamPlayerRef = useRef<mainPlayerService | null>(null);\n\n  useEffect(() => {\n    const streamPlayer = createMainPlayerInstance({ root_el: veido_flv_ref?.current!, canvas_el: canvas_ref?.current! });\n    streamPlayerRef.current = streamPlayer;\n\n  }, []);\n\n  return (\n    <>\n    <div>\n        <input\n            type="file"\n            id="file-input"\n            accept="audio/*,video/*"\n            onChange={(event) => {\n            const streamPlayer = streamPlayerRef.current!;\n            const files_data = event.target?.files?.[0]; // \u8fd4\u56defile\u5bf9\u8c61\uff0c \u7ee7\u627f\u81eablob\u5bf9\u8c61\u3002\n            files_data ? streamPlayer.set_blob_url(files_data) : \'\';\n            }}\n        />\n        <div style={{"display":"flex","flexDirection":"row"}}>\n           <div\n            ref={veido_flv_ref}\n            style={{ width: \'300px\', height: \'300px\' }}\n          />\n\n           <canvas ref={canvas_ref}  width="300" height="300" style={{"marginLeft":"15px"}} />\n        </div>\n    \n    </div>\n    </>\n  )\n}\n\nexport default SimpleDemo;',mobilePreview:!1,url:"/StreamCanvasX/demos/IcePkgDemo_8bcb51/",mdxType:"Previewer"},(0,a.kt)(o.Z,{mdxType:"BrowserOnly"},(function(){var e=n(6246).Z;return(0,a.kt)(e,{mdxType:"IcePkgDemo_8bcb51"})}))),(0,a.kt)("h2",{id:"flv\u76f4\u64ad\u6d41\u64ad\u653e"},"flv\u76f4\u64ad\u6d41\u64ad\u653e"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-tsx"},"import {  createPlayerServiceInstance } from 'streamcanvasx/es2017/serviceFactories/index';\n\n let player = createPlayerServiceInstance({});\n\n player.createFlvPlayer({ url: '' });\n\n")),(0,a.kt)(s.Z,{code:"import * as React from 'react';\nimport { Divider, Space, Button, Checkbox, Form, Input } from 'antd';\nimport {createPlayerServiceInstance } from 'streamcanvasx/es2017/serviceFactories/index';\nconst {useRef,useEffect,useState}=React\n\n\n\nconst VideoComponents = (props) => {\n  const streamPlayer = useRef<any>(null);\n  const [info, setInfo] = useState<any>();\n\n  useEffect(() => {\n    let { url } = props;\n\n    let player = createPlayerServiceInstance({ url, contentEl: containerRef.current! });\n    streamPlayer.current = player;\n\n    player.createFlvPlayer({});\n\n    player.on('otherInfo', (data) => {\n      let { speed } = data;\n      setInfo({ speed });\n    });\n\n    // let canvas_el = player.canvasVideoService.getCanvas2dEl();\n\n    // containerRef.current!.append(canvas_el);\n\n\n    // loadMediaEvent();\n  }, []);\n\n\n  const containerRef = useRef(null);\n\n\n  return (\n    <div >\n      <div style={{ width: '200px', height: '200px' }} ref={containerRef} />\n      <div>{JSON.stringify(info)}</div>\n      <Button onClick={() => {\n        let play = streamPlayer.current;\n        play.reload();\n      }}\n      >retry</Button>\n    </div>);\n}\n\nconst SimpleDemo=()=>{\n\n  useEffect(() => {}, []);\n  const [data, setData] = useState<Array<{url: string}>>([]);\n  return (\n    <div>\n\n      <Form\n        name=\"basic\"\n        autoComplete=\"off\"\n        onFinish={(value: {url: string}) => {\n            let item = { url: value.url };\n            let temp = Object.assign([], data);\n            temp.push(item);\n            setData(temp);\n          }}\n      >\n        <Form.Item\n          label=\"url\"\n          name=\"url\"\n        >\n          <Input />\n        </Form.Item>\n\n\n        <Form.Item wrapperCol={{ offset: 8, span: 16 }}>\n          <Button\n            type=\"primary\"\n            htmlType=\"submit\"\n          >\n            fetch_play\n          </Button>\n        </Form.Item>\n      </Form>\n      <div style={{ display: 'flex', flexDirection: 'row' }}>\n\n        {\n          data.map((item, inx) => {\n            let { url } = item;\n\n            return (<VideoComponents url={url} key={inx} />);\n          })\n        }\n      </div>\n\n\n      <div>\n        //https://breakfriday.github.io/StreamCanvasX/\n      </div>\n\n    </div>\n  )\n}\n\nexport default SimpleDemo;",mobilePreview:!1,url:"/StreamCanvasX/demos/IcePkgDemo_ba6176/",mdxType:"Previewer"},(0,a.kt)(o.Z,{mdxType:"BrowserOnly"},(function(){var e=n(2262).Z;return(0,a.kt)(e,{mdxType:"IcePkgDemo_ba6176"})}))),(0,a.kt)("h2",{id:"webgpu\u6e32\u67d3\u64ad\u653e"},"WebGpu\u6e32\u67d3\u64ad\u653e"),(0,a.kt)(s.Z,{code:"import * as React from 'react';\nimport { Divider, Space, Button, Checkbox, Form, Input } from 'antd';\nimport { createAudioProcessingServiceInstance, createMainPlayerInstance } from 'streamcanvasx/esm/serviceFactories/index';\nimport { StyleProvider } from '@ant-design/cssinjs';\n\nconst {useRef,useEffect}=React\n\n\nconst SimpleDemo = () => {\n  const veido_flv_ref = React.useRef<HTMLVideoElement | null>(null);\n  const canvas_ref = React.useRef<HTMLCanvasElement | null>(null);\n   let streamPlayerRef = useRef<mainPlayerService | null>(null);\n\n  useEffect(() => {\n    const streamPlayer = createMainPlayerInstance({ root_el: veido_flv_ref?.current!, canvas_el: canvas_ref?.current! });\n    streamPlayerRef.current = streamPlayer;\n\n  }, []);\n\n  return (\n    <>\n    <div>\n        <input\n            type=\"file\"\n            id=\"file-input\"\n            accept=\"audio/*,video/*\"\n            onChange={(event) => {\n            const streamPlayer = streamPlayerRef.current!;\n            const files_data = event.target?.files?.[0]; // \u8fd4\u56defile\u5bf9\u8c61\uff0c \u7ee7\u627f\u81eablob\u5bf9\u8c61\u3002\n            files_data ? streamPlayer.set_blob_url(files_data) : '';\n            }}\n        />\n          <div\n            ref={veido_flv_ref}\n            style={{ width: '300px', height: '300px' }}\n          />\n\n           <canvas ref={canvas_ref}  width=\"300\" height=\"300\" />\n    </div>\n    </>\n  )\n}\n\nexport default SimpleDemo;",mobilePreview:!1,url:"/StreamCanvasX/demos/IcePkgDemo_c62c95/",mdxType:"Previewer"},(0,a.kt)(o.Z,{mdxType:"BrowserOnly"},(function(){var e=n(2742).Z;return(0,a.kt)(e,{mdxType:"IcePkgDemo_c62c95"})}))),(0,a.kt)("h2",{id:"\u97f3\u9891\u53ef\u89c6\u5316"},"\u97f3\u9891\u53ef\u89c6\u5316"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-tsx"},"import { createAudioProcessingServiceInstance, createMainPlayerInstance } from 'streamcanvasx/es2017/serviceFactories/index';\n\nconst audio_process = createAudioProcessingServiceInstance({ media_el: video_el, canvas_el: canvas_audio_ref.current! });\n\naudio_process.updateBufferData();\naudio_process.drawWithBufferData();\n")),(0,a.kt)(s.Z,{code:'import * as React from \'react\';\nimport { Divider, Space, Button, Checkbox, Form, Input } from \'antd\';\nimport { createAudioProcessingServiceInstance, createMainPlayerInstance } from \'streamcanvasx/es2017/serviceFactories/index\';\nconst {useRef,useEffect}=React\n\n\nconst SimpleDemo = () => {\n  const veido_flv_ref = React.useRef<HTMLVideoElement | null>(null);\n  const canvas_ref = React.useRef<HTMLCanvasElement | null>(null);\n   let streamPlayerRef = useRef<mainPlayerService | null>(null);\n   const canvas_audio_ref = useRef(null);\n\n  useEffect(() => {\n    const streamPlayer = createMainPlayerInstance({ root_el: veido_flv_ref?.current!, canvas_el: canvas_ref?.current! });\n    streamPlayerRef.current = streamPlayer;\n\n    loadMediaEvent()\n\n  }, []);\n\n    const loadMediaEvent = () => {\n    const video_el = streamPlayerRef.current?._vedio;\n    if (video_el) {\n      video_el.addEventListener(\'play\', () => {\n        const audio_process = createAudioProcessingServiceInstance({ media_el: video_el, canvas_el: canvas_audio_ref.current! });\n\n\n         audio_process.updateBufferData();\n         audio_process.drawWithBufferData();\n        // audio_process.visulizerDraw3();\n      });\n    }\n  };\n\n  return (\n    <>\n    <div>\n        <input\n            type="file"\n            id="file-input"\n            accept="audio/*,video/*"\n            onChange={(event) => {\n            const streamPlayer = streamPlayerRef.current!;\n            const files_data = event.target?.files?.[0]; // \u8fd4\u56defile\u5bf9\u8c61\uff0c \u7ee7\u627f\u81eablob\u5bf9\u8c61\u3002\n            files_data ? streamPlayer.set_blob_url(files_data) : \'\';\n            }}\n        />\n        <div style={{"display":"flex","flexDirection":"row"}}>\n           <div\n            ref={veido_flv_ref}\n            style={{ width: \'300px\', height: \'300px\' }}\n          />\n\n           <canvas  ref={canvas_ref}  width="300" height="300" style={{"marginLeft":"15px","display":"none"}} />\n\n          <div >\n            <canvas style={{ background: \'black\' }} ref={canvas_audio_ref} id="canvas" width="300" height="300" />\n          </div>\n\n           \n        </div>\n    \n    </div>\n    </>\n  )\n}\n\nexport default SimpleDemo;',mobilePreview:!1,url:"/StreamCanvasX/demos/IcePkgDemo_2ac6eb/",mdxType:"Previewer"},(0,a.kt)(o.Z,{mdxType:"BrowserOnly"},(function(){var e=n(1724).Z;return(0,a.kt)(e,{mdxType:"IcePkgDemo_2ac6eb"})}))),(0,a.kt)("h2",{id:"webcodecs-\u89e3\u7801\u64ad\u653e"},"WebCodecs \u89e3\u7801\u64ad\u653e"),(0,a.kt)("h3",{id:"\u672c\u5730\u6587\u4ef6-webcodecs-\u89e3\u7801\u64ad\u653e"},"\u672c\u5730\u6587\u4ef6 webCodecs \u89e3\u7801\u64ad\u653e"),(0,a.kt)("h3",{id:"flv\u6d41-\u89e3\u7801\u64ad\u653e"},"flv\u6d41 \u89e3\u7801\u64ad\u653e"))}g.isMDXComponent=!0}}]);